<!DOCTYPE html>
<html>
<head>
<title>GeoGebra js test -- online</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="test.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.geogebra.org/apps/5.0.444.0/web3d/web3d.nocache.js"></script>
<script src="coherent.js"></script>
</head>

<body>
    <article class="geogebraweb"
    style="border: 1px solid black; display:inline-block;"
	data-param-width="800"
	data-param-height="500" 
    data-param-id="ggbApplet">
    </article>
	-----------------------Coherent script communication
	
    
<div>------------ Test button ------------
    <div>
        <input value="Button" type="button" name="submit"        id="button" onclick="GetGGBString();
               <!-- id="button" onclick="javascript:return onClick();"/> --> <!--log(ggbApplet.getValueString("f"))-->
				
    </div>
</div>

<script>
var myFunction = function () {
    log("button clicked");
    ggbApplet.evalCommand("A=(1,1)");
    ggbApplet.evalCommand("B=(2,1)");
    ggbApplet.evalCommand("f=Line(A,B)");
	log(ggbApplet.getValueString("f"));
}

</script>

<script type="text/javascript"> 
var GetGGBString = function () {
    ggbApplet.evalCommand("A=(1,1)");
    ggbApplet.evalCommand("B=(2,1)");
    ggbApplet.evalCommand("f=Line(A,B)");
	var myString = ggbApplet.getValueString("f");
	engine.trigger('LoadGame', myString);
}
</script>
<div>------------ Log ------------
    <div id="log">Log:</div>
</div>
   
</html>
